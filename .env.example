# =============================================================================
# Feishu Configuration
# =============================================================================
FEISHU_ENABLED=true
FEISHU_APP_ID=your_app_id_here
FEISHU_APP_SECRET=your_app_secret_here
FEISHU_BOT_NAME=YourBotName

# Platform-specific working directory (optional)
# - In fixed mode: Kiro works in this directory, can use project-level .kiro/ config
# - In per_chat mode: Base directory for chat subdirectories
FEISHU_KIRO_CWD=

# Platform-specific workspace mode (optional, overrides KIRO_WORKSPACE_MODE)
# Leave empty to use global KIRO_WORKSPACE_MODE
FEISHU_WORKSPACE_MODE=

# =============================================================================
# Discord Configuration (not yet implemented)
# =============================================================================
DISCORD_ENABLED=false
DISCORD_BOT_TOKEN=your_discord_bot_token_here
DISCORD_KIRO_CWD=
DISCORD_WORKSPACE_MODE=

# =============================================================================
# Kiro CLI Configuration
# =============================================================================

# Path to kiro-cli executable
KIRO_PATH=kiro

# Default working directory (used when platform doesn't specify KIRO_CWD)
KIRO_CWD=/tmp/kirocli-chatbot-gateway

# Auto-stop kiro-cli after N seconds of inactivity (0 = disabled)
KIRO_IDLE_TIMEOUT=300

# =============================================================================
# Workspace Mode (IMPORTANT!)
# =============================================================================
# Controls how Kiro CLI handles file operations and configuration loading.
#
# Options:
#   - per_chat: Each chat gets isolated subdirectory (recommended for multi-user)
#   - fixed: All chats share the same directory (recommended for project work)
#
# Detailed behavior:
#
# ┌─────────────┬──────────────────────────────────────────────────────────────┐
# │   Mode      │ Behavior                                                     │
# ├─────────────┼──────────────────────────────────────────────────────────────┤
# │ per_chat    │ • kiro-cli starts WITHOUT cwd parameter                      │
# │ (default)   │ • Loads GLOBAL config: ~/.kiro/settings/mcp.json             │
# │             │ • Each chat session works in: {KIRO_CWD}/{chat_id}/          │
# │             │ • Users can't interfere with each other's files              │
# ├─────────────┼──────────────────────────────────────────────────────────────┤
# │ fixed       │ • kiro-cli starts WITH cwd = KIRO_CWD (or platform CWD)      │
# │             │ • Loads PROJECT config: {KIRO_CWD}/.kiro/settings/mcp.json   │
# │             │ • All chat sessions work in the same directory               │
# │             │ • Useful for team collaboration on a specific project        │
# └─────────────┴──────────────────────────────────────────────────────────────┘
#
# MCP & Skills loading:
#   - per_chat mode → Global ~/.kiro/ config
#   - fixed mode → Project-level {KIRO_CWD}/.kiro/ config (falls back to global)
#
# Per-platform override:
#   Set FEISHU_WORKSPACE_MODE or DISCORD_WORKSPACE_MODE to override for that platform.
#   Example: Feishu uses per_chat for public users, Discord uses fixed for team project.
#
KIRO_WORKSPACE_MODE=per_chat

# =============================================================================
# Logging
# =============================================================================
LOG_LEVEL=INFO
